---
layout: default
---

### Содержание

- [Объявление doctype](#doctype)
- [Вычисления box model](#box-model-math)
- [Единицы rem и Mobile Safari](#rems-mobile-safari)
- [Сперва плавающие элементы](#floats-first)
- [Плавающие элементы и очистка](#floats-clearing)
- [Плавающие элементы и вычисляемая высота](#floats-computed-height)
- [Плавающие элементы являются блочными](#floats-block-level)
- [Частый конфликт вертикальных `margin`](#vertical-margins-collapse)
- [Стилизирование табличных строк](#styling-table-rows)
- [Firefox и `<input>` кнопки](#buttons-firefox)
- [Внутренняя обводка кнопок в Firefox](#buttons-firefox-outline)
- [Всегда задавайте `type` `<button>` кнопкам](#buttons-type)
- [Лимит селекторов в Internet Explorer](#ie-selector-limit)
- [Позиционирование](#position-explained)
- [Позиционирование и ширина](#position-width)
- [`position: fixed` и трансформации](#position-transforms)


<a name="doctype"></a>
### Объявление doctype
Всегда объявляйте доктайп. Я рекомендую простой HTML5 доктайп:

```html
<!DOCTYPE html>
```

[Пропуск доктайпа может стать причиной ошибок](http://quirks.spec.whatwg.org), таких как бесформенные таблицы, поля ввода и других, поскольку страница будет отрендерена в случайном режиме.


<a name="box-model-math"></a>
### Вычисления Box model
Элементы, для которых установлено свойство `width`, становятся *шире* когда им присвоены `padding` и/или `border-width`. Чтобы избежать этих проблем, используйте [`box-sizing: border-box;` reset](http://www.paulirish.com/2012/box-sizing-border-box-ftw/).


<a name="rems-mobile-safari"></a>
### Единицы Rem и Mobile Safari
В то время как Mobile Safari поддерживает использование `rem` в качестве значений любых свойств, он в штаны наложит когда `rem` будут использоваться в медиа запросах и бесконечно будет меняет размер текста на странице.

Пока что используйте `em` вместо `rem`.

```css
html {
  font-size: 16px;
}

/* Вызывает баг в Mobile Safari */
@media (min-width: 40rem) {
  html {
    font-size: 20px;
  }
}

/* Прекрасно работает в Mobile Safari */
@media (min-width: 40em) {
  html {
    font-size: 20px;
  }
}
```

**Подсказка!** *Если у вас есть ссылка на Apple или Webkit баг репорт по этой проблеме, я буду рад добавить ее сюда. Я не уверен куда слать отчет, поскольку поблема затрагивает только Mobile Safari, а не Desktop.*


<a name="floats-first"></a>
### Сперва плавающие элементы
Плавающие элементы должны вседа быть первыми в очереди документа. Плавающим элементам нужно что-нибудь в качестве обертки, иначе они могут съезжать вниз, вместо того чтобы следовать сразу за контентом.

```html
<div class="parent">
  <div class="float">Плавающий элемент</div>
  <div class="content">
    <!-- ... -->
  </div>
</div>
```


<a name="floats-clearing"></a>
### Плавающие элементы и очистка
Если вы применяете float к элементу, вам, *возможно*, нужно сбросить это поведение. Любой контент следующий за плавающим элементом будет пропускать его над собой до тех пор, пока поток не будет очищен. Для очистки потока используйте одну из нижеприведенных техник:

Используйте [микро clearfix](http://nicolasgallagher.com/micro-clearfix-hack/) для очистки с использованием отдельного класса.

```css
.clearfix:before,
.clearfix:after {
  display: table;
  content: "";
}
.clearfix:after {
  clear: both;
}
```

Как альтернатву используйте `overflow: auto;` или `hidden` применительно к родителю.

```css
.parent {
  overflow: auto; /* clearfix */
}
.other-parent {
  overflow: hidden; /* clearfix */
}
```

Знайте, что `overflow` может стать причиной других сторонних эффектов, что скажется на позиционированных элементах внутри родителя.

**Pro-Tip!** *Облегчите жизнь себе и своим коллегам, добавив коментарий вроде `/* clearfix */` когда очищаете плавающие элементы, полькольку эти свойства могут быть использованы совсем для других целей.*


<a name="floats-computed-height"></a>
### Плавающие элементы и вычисляемая высота
Родительский элемент, имеющий только плавающих потомков будет иметь высоту `height: 0;`. Добавьте clearfix родителю, позволив браузерам вычислять его высоту.


<a name="floats-block-level"></a>
### Плавающие элементы являются блочными
Элементы с `float` будут автоматически становиться блочными `display: block;`. Не задавайте оба этих свойства, поскольку в этом нет нужды, и `float` заменит ваш `display`.

```css
.element {
  float: left;
  display: block; /* Нет необходимости */
}
```

**Fun fact:** *В прошлом мы должны были устанавливать `display: inline;` для большинства плавающих элементов, чтобы обеспечить правильную работу в IE6, избежав бага [double margin bug](http://www.positioniseverything.net/explorer/doubled-margin.html). Однако, эти дни давно прошли.*


<a name="vertical-margins-collapse"></a>
### Частый конфликт вертикальных `margin`
Верхние и нижние отступы соседних элементов (один за другим) могут и будут конфликтовать во многих ситуациях, но не в случае с плавающими или абсоляютно позиционированными элементами. [Прочтите эту MDN статью](https://developer.mozilla.org/en-US/docs/Web/CSS/margin_collapsing) или спецификацию CSS2 [collapsing margin section](http://www.w3.org/TR/CSS2/box.html#collapsing-margins) для того чтобы узнать больше.

Соседние по горизонтали отступы **никогда** не будут конфликтовать.


<a name="styling-table-rows"></a>
### Стилизирование строк таблиц
Строки таблицы, `<tr>`, не получают `border` пока вы не зададите `border-collapse: collapse;` родительскому `<table>`. Более того, если  `<tr>` и дочерний `<td>` или `<th>` имеют *одинаковые* `border-width`, применяемый к строкам `border` виден не будет. [Посмотрите этот JS Bin в качестве примера](http://jsbin.com/yabek/2/)


<a name="buttons-firefox"></a>
### Firefox и `<input>` кнопки

По неизвестным причинам Firefox применяет `line-height` к submit и button инпутам, который не может быть изменен сторонним CSS. У вас еть два пути решения проблемы:

1. Придерживайтесь `<button>` элементов
2. Не используйте `line-height` на ваших кнопках

Если вы пойдете по первому пути (и я рекомендую именно его, поскольку `<button>` действительно хороши), вот что вы должны знать:

```html
<!-- Не очень хорошо -->
<input type="submit" value="Save changes">
<input type="button" value="Cancel">

<!-- Отлично -->
<button type="submit">Сохранить изменения</button>
<button type="button">Отмена</button>
```

Если вы пойдете по второму пути, просто не устанавливайте `line-height` и используйте *только* `padding` для вертикального выравнивания текста. [Взгляните на JS Bin пример](http://jsbin.com/yabek/4/) через Firefox, чтобы увидеть проблему и ее решения.

**Хорошие новости!** *Похоже что [исправление этого поведения](https://bugzilla.mozilla.org/show_bug.cgi?id=697451#c43) может быть применено в Firefox 30. Это хорошие новости, но вы должны помнить что это не исправляет ошибок более старых версий.*


<a name="buttons-firefox-outline"></a>
### Внутренняя обводка кнопок в Firefix

Firefox [добавляет внутреннюю обводку](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Notes) кнопкам (`<input>` и `<button>`) при фокусе `:focus`. По-видимому с целью повышения удобства, но ее добавление чаще выглядит глупо. Используйте этот CSS для перезаписи:

```css
input::-moz-focus-inner,
button::-moz-focus-inner {
  padding: 0;
  border: 0;
}
```

Вы можете посмотреть на это исправление в действии в том же  [JS Bin примере](http://jsbin.com/yabek/4/) упомянутом в предыдущем разделе.

**Pro-Tip!** *Убедитесь что вы добавите похожиее фокусное состояние кнопкам, ссылкам и инпутам. Be sure to include some focus state on buttons, links, and inputs. Предоставление удобных способов ваимодействия со станицей - первоочередная задача, как для опытных пользователей, которые используют навигацию по контенту табом, так и для людей с нарушениями зрения.*


<a name="buttons-type"></a>
### Всегда задавайте `type` `<button>` кнопкам
Значением по умолчанию является `submit`, что позволяет любой кнопке в форме отправлять ее. Используйте `type="button"` для любой кнопки, которая не должна отправлять форму и `type="submit"` в обратном случае.

```html
<button type="submit">Сохранить изменения</button>
<button type="button">Отмена</button>
```

Для действий, которые требуют кнопок `<button>` и не расположены внутри форм, используйте `type="button"`.

```html
<button class="dismiss" type="button">x</button>
```

**Интересный факт:** *По-видимому, IE7 не поддерживает должным образом атрибут `value` у `<button>`. Вместо того чтобы правильно прочесть значение атрибута, он извлекает его из innerHTML (контента между открывающим и закрывающим `<button>` тегами). Однако, я не вижу в этом большой проблемы под двум причинам: процент использования IE7 падает, и установка обоих `value` и innerHTML на кнопки выглядит по большей части противоестественной.*


<a name="ie-selector-limit"></a>
### Лимит селекторов в Internet Explorer
Internet Explorer 9 и более ранние версии имеют ограничение в 4,096 селекторов на таблицу стилей. Помимо этого существует ограничение на 31 файл стилей и `<style></style>`, подключаемые на одной странице. Все что выше этих лимитов игнорируется браузером. Или разделите ваши CSS, или проведите рефакторинт. Я поясню позже.

Возьмите на заметку, как браузеры считают селекторы:

```css
/* Идин селектор */
.element { }

/* Два селектора */
.element,
.other-element { }

/* Три селектора */
input[type="text"],
.form-control,
.form-group > input { }
```


<a name="position-explained"></a>
### Позиционирование
Элементы с `position: fixed;` позиционируются относительно окна браузера. Элементы с `position: absolute;` позиционируются относительно их ближайшего родителя с `position` отлчичным от `static` (например `relative`, `absolute`, или `fixed`).


<a name="position-width"></a>
### Позиционирование и ширина
Не задавайте `width: 100%;` элементу, который имеет `position: [absolute|fixed];`, `left`, или `right`. Использование `width: 100%;` эквивалетно комбинированию `left: 0;` и `right: 0;`. Используйте один из способов, но не оба.


<a name="position-transforms"></a>
### `position: fixed` и трансформации
Браузеры сбрасывают `position: fixed;` когда родительскому элементу задано свойство `transform`. Использование трансформаций создает новый блок, заставляющий родителя принимать `position: relative;`, а фиксированный элемент вести себя как `position: absolute;`.

[Смотрите демо](http://jsbin.com/yabek/1/) и читайте [Eric Meyer's post on the matter](http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/).
